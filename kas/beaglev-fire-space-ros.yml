header:
  version: 20
  includes:
    - kas/yocto/scarthgap.yml
    - kas/machine/beaglev-fire.yml
    - kas/spaceros/jazzy.yml
    - kas/common.yml
    - kas/diskmon.yml
    - kas/systemd.yml
    - kas/rauc.yml
    - kas/limit-pressure.yml

build_system: oe

repos:
  meta-beaglev-fire-bsp:
    path: layers/meta-beaglev-fire-bsp
    layers:
      .:
  meta-spaceros-app:
    path: layers/meta-spaceros-app
    layers:
      .:
  meta-spaceros-distro:
    path: layers/meta-spaceros-distro
    layers:
      .:

target:
  - core-image-minimal

local_conf_header:
  project: |
    # BeagleV-Fire Space-ROS Project
    DISTRO = "spaceros"
    
    # Additional image features
    IMAGE_FEATURES += "splash package-management ssh-server-dropbear"
    
    # Development tools
    IMAGE_INSTALL:append = " \
        htop \
        tmux \
        vim \
        git \
        python3 \
        python3-pip \
        i2c-tools \
        can-utils \
        usbutils \
        pciutils \
        canadarm-demo \
        canadarm-description \
        canadarm-gazebo \
        canadarm-moveit-config \
        canadarm-wrench-publisher \
        curiosity-description \
        curiosity-rover-demo \
        curiosity-gazebo \
        trick-canadarm-moveit-config \
        trick-ros2-control \
        ros-trick-bridge \
    "